/******************************************************************************************************************************************************
 *  COPYRIGHT
 *  ---------------------------------------------------------------------------------------------------------------------------------------------------
 *  \verbatim
 *  Copyright (c) Andreas Burnickl                                                                                                 All rights reserved.
 *
 *  \endverbatim
 *  ---------------------------------------------------------------------------------------------------------------------------------------------------
 *  FILE DESCRIPTION
 *  -------------------------------------------------------------------------------------------------------------------------------------------------*/
/**     \file       LedCube.h
 *      \brief      Main header file of LedCube library
 *
 *      \details    Arduino library to drive an 8x8x8 LED Cube 
 *                  
 *
 *****************************************************************************************************************************************************/
#ifndef _LEDCUBE_H_
#define _LEDCUBE_H_

/******************************************************************************************************************************************************
 * INCLUDES
 *****************************************************************************************************************************************************/
#include "StandardTypes.h"
#include "Arduino.h"
#include "digitalWriteFast.h"


/******************************************************************************************************************************************************
 *  LOCAL CONSTANT MACROS
 *****************************************************************************************************************************************************/
#define LEDCUBE_BUFFER_SIZE						64

#define LEDCUBE_NUMBER_OF_LEDS_PER_SIDE			8
#define LEDCUBE_NUMBER_OF_LAYERS				LEDCUBE_NUMBER_OF_LEDS_PER_SIDE


#define SER_74 13  // datain input
#define RCK_74 12  // storage input
#define SCK_74 11  // clock input

/******************************************************************************************************************************************************
 *  LOCAL FUNCTION MACROS
 *****************************************************************************************************************************************************/


/******************************************************************************************************************************************************
 *  GLOBAL DATA TYPES AND STRUCTURES
 *****************************************************************************************************************************************************/


/******************************************************************************************************************************************************
 *  CLASS  LedCube
 *****************************************************************************************************************************************************/
class LedCube
{
  private:
	byte DataInPin;
	byte StoragePin;
	byte ClockPin;

    byte CubeBuffer[LEDCUBE_BUFFER_SIZE];
	
	stdReturnType showLayer(byte Layer);
	void sendData(byte Data);

  public:
    LedCube();
    ~LedCube();

	stdReturnType Task();
	stdReturnType setCube();
	stdReturnType setLayer();
	stdReturnType setVoxel(byte X, byte Y, byte Z);
	stdReturnType clearVoxel(byte X, byte Y, byte Z);
	boolean getVoxel(byte X, byte Y, byte Z);
	void clearVoxels(void);
};

#endif

/******************************************************************************************************************************************************
 *  E N D   O F   F I L E
 *****************************************************************************************************************************************************/